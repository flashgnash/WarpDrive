<?xml version="1.0" encoding="utf-8"?>
<worldGeneration version="3"
				 xmlns="http://warpdrive.lemadec.org"
				 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				 xsi:schemaLocation="http://warpdrive.lemadec.org WarpDrive.xsd"
				 mods="undergroundbiomes">

	<for variable="type" in="igneous,metamorphic,sedimentary">
		<for variable="metadata" from="0" to="7">
			<!-- common overworld ores with various base blocks -->
			<fillerSet group="overworld_common" name="%type%@%metadata%.normal" weight="15">
				<import group="undergroundBiomes_commonOres" name="%type%@%metadata%" />
				<filler blockState="undergroundbiomes:%type%_stone" weight="100" />
			</fillerSet>

			<fillerSet group="undergroundBiomes_commonOres" name="%type%@%metadata%">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_coal_ore"                                 ratio=".06" />
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_iron_ore"                                 ratio=".04" />
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_redstone_ore"                             ratio=".008" />
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_appliedenergistics2_quartz_ore"           ratio=".008" mods="appliedenergistics2" /><!-- Certus quartz -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ars_nouveau_arcane_ore"                   ratio=".024" mods="ars_nouveau" /><!-- Arcane/Vinteum -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ebwizardry_crystal_ore"                   ratio=".024" mods="ebwizardry" /><!-- Magic Crystal -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_evilcraft_dark_ore"                       ratio=".016" mods="evilcraft" /><!-- Dark gem -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_forestry_apatite_ore"                     ratio=".036" mods="forestry" /><!-- Apatite -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_trinium_ore"                          ratio=".008" mods="ref" /><!-- Trinium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_mekanism_osmium_ore"                      ratio=".004" mods="mekanism" /><!-- Osmium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_manganese_ore"                 ratio=".008" mods="metallurgy" /><!-- Manganese -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_prometheum_ore"                ratio=".020" mods="metallurgy" /><!-- Prometheum -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_deep_iron_ore"                 ratio=".012" mods="metallurgy" /><!-- Deep Iron -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_infuscolium_ore"               ratio=".012" mods="metallurgy" /><!-- Infuscolium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_oureclase_ore"                 ratio=".008" mods="metallurgy" /><!-- Oureclase -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_sulfur_ore"                    ratio=".006" mods="metallurgy" /><!-- Sulfur -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_phosphorite_ore"               ratio=".006" mods="metallurgy" /><!-- Phosphorite -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_saltpeter_ore"                 ratio=".007" mods="removed,metallurgy" /><!-- Saltpeter (removed in 1.12+, kept for reference ratio) -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_magnesium_ore"                 ratio=".006" mods="removed,metallurgy" /><!-- Magnesium (removed in 1.12+, kept for reference ratio) -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_bitumen_ore"                   ratio=".006" mods="off,metallurgy" /><!-- Bitumen (replaced with lakes in 1.12+, kept for reference ratio) -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_potash_ore"                    ratio=".006" mods="off,metallurgy" /><!-- Potash -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_mysticalagriculture_inferium_ore"         ratio=".012" mods="mysticalagriculture" /><!-- Inferium -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_bausite_ore"         ratio=".032" mods="immersiveengineering" /><!-- Aluminum/Bauxite -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_copper_ore"                       ratio=".048" mods="thermal" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_copper_ore"          ratio=".048" mods="immersiveengineering,!thermal" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_mekanism_copper_ore"                      ratio=".048" mods="mekanism,!thermal,!immersiveengineering" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_copper_ore"                           ratio=".048" mods="ic2,!thermal,!immersiveengineering,!mekanism" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_copper_ore"                  ratio=".048" mods="nuclearcraft,!thermal,!immersiveengineering,!mekanism,!ic2" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_forestry_copper_ore"                      ratio=".048" mods="forestry,!thermal,!immersiveengineering,!mekanism,!ic2,!nuclearcraft" /><!-- Copper -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_projectred_copper_ore"                    ratio=".048" mods="projectred-exploration,!thermal,!immersiveengineering,!mekanism,!ic2,!nuclearcraft,!forestry" /><!-- Copper -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_lead_ore"                         ratio=".024" mods="thermal" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_lead_ore"            ratio=".024" mods="immersiveengineering,!thermal" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_lead_ore"                             ratio=".024" mods="ic2,!thermal,!immersiveengineering" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_lead_ore"                    ratio=".024" mods="nuclearcraft,!thermal,!immersiveengineering,!ic2" /><!-- Lead -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_tin_ore"                          ratio=".032" mods="thermal" /><!-- Tin -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_mekanism_tin_ore"                         ratio=".032" mods="mekanism,!thermal" /><!-- Tin -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_tin_ore"                              ratio=".032" mods="ic2,!thermal,!mekanism" /><!-- Tin -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_tin_ore"                     ratio=".032" mods="nuclearcraft,!thermal,!mekanism,!ic2" /><!-- Tin -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_forestry_tin_ore"                         ratio=".032" mods="forestry,!thermal,!mekanism,!ic2,!nuclearcraft" /><!-- Tin -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_projectred_tin_ore"                       ratio=".032" mods="projectred-exploration,!thermal,!mekanism,!ic2,!nuclearcraft,!forestry" /><!-- Tin -->
			</fillerSet>


			<!-- uncommon overworld ores with various base blocks -->
			<fillerSet group="overworld_uncommon" name="%type%@%metadata%.normal" weight="20">
				<import group="undergroundBiomes_uncommonOres" name="%type%@%metadata%" />
				<filler blockState="undergroundbiomes:%type%_stone" weight="100" />
			</fillerSet>

			<fillerSet group="undergroundBiomes_uncommonOres" name="%type%@%metadata%">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_redstone_ore"                             ratio=".008" />
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gold_ore"                                 ratio=".010" />
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_lapis_ore"                                ratio=".008" />
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_appliedenergistics2_quartz_ore"           ratio=".010" mods="appliedenergistics2" /><!-- Certus quartz -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_appliedenergistics2_charged_quartz_ore"   ratio=".004" mods="appliedenergistics2" /><!-- Charged Certus quartz -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ars_nouveau_chimerite_ore"                ratio=".006" mods="ars_nouveau" /><!-- Chimerite -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_deepresonance_resonating_ore"             ratio=".001" mods="deepresonance" /><!-- Resonating -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_mekanism_osmium_ore"                      ratio=".010" mods="mekanism" /><!-- Osmium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_astral_silver_ore"             ratio=".008" mods="metallurgy" /><!-- Astral Silver -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_carmot_ore"                    ratio=".0064" mods="metallurgy" /><!-- Carmot -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_rubracium_ore"                 ratio=".004" mods="metallurgy" /><!-- Rubracium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_zinc_ore"                      ratio=".015" mods="metallurgy" /><!-- Zinc -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_thorium_ore"                 ratio=".002" mods="nuclearcraft" /><!-- Thorium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_boron_ore"                   ratio=".004" mods="nuclearcraft" /><!-- Boron -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_lithium_ore"                 ratio=".003" mods="nuclearcraft" /><!-- Lithium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_magnesium_ore"               ratio=".006" mods="nuclearcraft" /><!-- Magnesium -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_lead_ore"                         ratio=".015" mods="thermal" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_lead_ore"            ratio=".015" mods="immersiveengineering,!thermal" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_lead_ore"                             ratio=".015" mods="ic2,!thermal,!immersiveengineering" /><!-- Lead -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_lead_ore"                    ratio=".015" mods="nuclearcraft,!thermal,!immersiveengineering,!ic2" /><!-- Lead -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_mithril_ore"                      ratio=".0064" mods="thermal" /><!-- Mana infused/Mithril -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal.ore.nickel.name"                  ratio=".015" mods="thermal" /><!-- Ferrous/Nickel -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_ore_4"               ratio=".015" mods="immersiveengineering,!thermal" /><!-- Nickel -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_thermal_silver_ore"                       ratio=".015" mods="thermal" /><!-- Silver -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_ore_3"               ratio=".015" mods="immersiveengineering,!thermal" /><!-- Silver -->
				<filler blockState="projectred-exploration:ore"                                                         ratio=".015" mods="projectred-exploration,!thermal,!immersiveengineering" /><!-- Silver -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_libvulpes_rutile_ore"                     ratio=".008" mods="libvulpes" /><!-- Titanium/Rutile -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_techguns_titanium_ore"                    ratio=".008" mods="techguns,!libvulpes" /><!-- Titanium -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_uranium_ore"                          ratio=".001" mods="ic2" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_uranium_ore"         ratio=".001" mods="immersiveengineering,!ic2" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_uranium_ore"                 ratio=".002" mods="nuclearcraft,!ic2,!immersiveengineering" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_bigreactors_yellorium_ore"                ratio=".001" mods="bigreactors,!ic2,!immersiveengineering,!nuclearcraft" /><!-- Uranium/Yellorite -->
			</fillerSet>

			<!-- rare overworld ores with various base blocks -->
			<fillerSet group="overworld_rare" name="%type%@%metadata%.normal" weight="20">
				<import group="undergroundBiomes_rareOres" name="%type%@%metadata%" />
				<filler blockState="undergroundbiomes:%type%_stone" weight="100" />
			</fillerSet>
			
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="emerald" weight="10">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_emerald_ore" ratio=".001" />
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="ruby" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.ruby_ore" ratio=".001" /><!-- Ruby -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="peridot" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.peridot_ore" ratio=".001" /><!-- Peridot -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="topaz" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.topaz_ore" ratio=".001" /><!-- Topaz -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="tanzanite" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.tanzanite_ore" ratio=".001" /><!-- Tanzanite -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="malachite" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.malachite_ore" ratio=".001" /><!-- Malachite -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="sapphire" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.sapphire_ore" ratio=".001" /><!-- Sapphire -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="amber" weight="10" mods="biomesoplenty">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gem_ore.amber_ore" ratio=".001" /><!-- Amber -->
			</fillerSet>
			<fillerSet group="undergroundBiomes_rareGems.%type%@%metadata%" name="none" ratio="0.10"><!-- slight chance of no gems -->
				<filler blockState="minecraft:stone" ratio=".00000001" /><!-- negligeable ratio -->
			</fillerSet>
			
			<fillerSet group="undergroundBiomes_rareOres" name="%type%@%metadata%">
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_gold_ore"                                 ratio=".004" />
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_diamond_ore"                              ratio=".004" />
				<import group="undergroundBiomes_rareGems.%type%@%metadata%" /><!-- add a random gem, don't mix them in the same volume -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_appliedenergistics2_charged_quartz_ore"   ratio=".005" mods="appliedenergistics2" /><!-- Charged certus quartz -->
				<filler blockState="undergroundbiomes:%type%_ars_nouveau:blue_topaz_ore"                                ratio=".008" mods="ars_nouveau" /><!-- Blue topaz -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_draconicevolution_draconium_ore"          ratio="0.004" mods="off,draconicevolution" /><!-- Draconium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_naquadriah_ore"                       ratio=".006" mods="ref" /><!-- Naquadriah -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_orichalcum_ore"                ratio=".006" mods="metallurgy" /><!-- Orichalcum -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_adamantine_ore"                ratio=".004" mods="metallurgy" /><!-- Adamantine -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_metallurgy_atlarus_ore"                   ratio=".004" mods="metallurgy" /><!-- Atlarus -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_thorium_ore"                 ratio=".015" mods="nuclearcraft" /><!-- Thorium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_boron_ore"                   ratio=".030" mods="nuclearcraft" /><!-- Boron -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_lithium_ore"                 ratio=".020" mods="nuclearcraft" /><!-- Lithium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_magnesium_ore"               ratio=".030" mods="nuclearcraft" /><!-- Magnesium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_naquadah"                             ratio=".002" mods="ref" /><!-- Naquadah -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_platinum_ore"                         ratio=".006" mods="ref,!undergroundbiomes" /><!-- Shiny/Platinum -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_libvulpes_rutile_ore"                 ratio=".006" mods="libvulpes" /><!-- Titanium/Rutile -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ref_techguns_titanium_ore"                ratio=".006" mods="techguns,!libvulpes" /><!-- Titanium -->
				
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_ic2_uranium_ore"                          ratio=".005" mods="ic2" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_immersiveengineering_uranium_ore"         ratio=".005" mods="immersiveengineering,!ic2" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_nuclearcraft_uranium_ore"                 ratio=".005" mods="nuclearcraft,!ic2,!immersiveengineering" /><!-- Uranium -->
				<filler blockState="undergroundbiomes:%type%_stone_%metadata%_bigreactors_yellorium_ore"                ratio=".005" mods="bigreactors,!ic2,!immersiveengineering,!nuclearcraft" /><!-- Uranium/Yellorite -->
			</fillerSet>
			
			<!-- assorted overworld surface blocks -->
			<fillerSet group="overworld_surface" name="%type%@%metadata%" weight="5">
				<filler blockState="undergroundbiomes:%type%_stone" weight="100" />
			</fillerSet>
		</for>
	</for>

    <!-- corrupted versions (no sedimentary cobblestone) -->
    <for variable="type" in="igneous,metamorphic">
        <for variable="metadata" from="0" to="7">
            <!-- common overworld ores with various base blocks -->
            <fillerSet group="overworld_common" name="%type%@%metadata%.corrupted" weight="5">
                <import group="undergroundBiomes_commonOres" name="%type%@%metadata%" />
                <filler blockState="undergroundbiomes:%type%_cobble" weight="100" />
            </fillerSet>

            <!-- uncommon overworld ores with various base blocks -->
            <fillerSet group="overworld_uncommon" name="%type%@%metadata%.corrupted" weight="5">
                <import group="undergroundBiomes_uncommonOres" name="%type%@%metadata%" />
                <filler blockState="undergroundbiomes:%type%_cobble" weight="100" />
            </fillerSet>

            <!-- rare overworld ores with various base blocks -->
            <fillerSet group="overworld_rare" name="%type%@%metadata%.corrupted" weight="5">
                <import group="undergroundBiomes_rareOres" name="%type%@%metadata%" />
                <filler blockState="minecraft:obsidian" weight="100" />
                <filler blockState="undergroundbiomes:%type%_stone_%metadata%_diamond_ore" weight="5" />
                <filler blockState="minecraft:bedrock" weight="1" />
            </fillerSet>

            <!-- assorted overworld surface blocks -->
            <fillerSet group="overworld_surface" name="%type%@%metadata%.corrupted" weight="2">
                <filler blockState="undergroundbiomes:%type%_cobble" weight="100" />
            </fillerSet>
        </for>
    </for>

</worldGeneration>